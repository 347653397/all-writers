webpackJsonp([8],{Bjsw:function(e,t,n){"use strict";function a(){}function o(e){return void 0===e||null===e?"":e}function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(N,"_").length}var l=n("34v0"),u=n.n(l),i=n("WxFH"),s=n.n(i),c=n("dbJu"),p=n.n(c),f=n("HFN4"),m=n.n(f),h=n("Lxvp"),v=n.n(h),d=n("i9+B"),b=n.n(d),g=n("lIaQ"),C=n.n(g),y=n("dN2m"),x=n.n(y),E=n("9/Xf"),k=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(n[a[o]]=e[a[o]]);return n},N=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\n/g,F=function(e){function t(e){p()(this,t);var n=v()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.focus=function(){n.textareaRef.focus()},n.reAlignHeight=function(){var e=n.textareaRef;e.style.height="",e.style.height=e.scrollHeight+"px"},n.onChange=function(e){var t=e.target.value;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:t});var a=n.props.onChange;a&&a(t),n.componentDidUpdate()},n.onBlur=function(e){n.debounceTimeout=setTimeout(function(){document.activeElement!==n.textareaRef&&n.setState({focus:!1})},100);var t=e.currentTarget.value;n.props.onBlur&&n.props.onBlur(t)},n.onFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0});var t=e.currentTarget.value;n.props.onFocus&&n.props.onFocus(t)},n.onErrorClick=function(){n.props.onErrorClick&&n.props.onErrorClick()},n.clearInput=function(){n.setState({value:""}),n.props.onChange&&n.props.onChange("")},n.state={focus:!1,value:e.value||e.defaultValue||""},n}return b()(t,e),m()(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:o(e.value)})}},{key:"componentDidMount",value:function(){this.props.autoHeight&&this.reAlignHeight()}},{key:"componentDidUpdate",value:function(){this.props.autoHeight&&this.state.focus&&this.reAlignHeight()}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,n=this,a=this.props,o=a.prefixCls,l=a.prefixListCls,i=a.editable,c=a.style,p=a.clear,f=(a.children,a.error),m=a.className,h=a.count,v=a.labelNumber,d=a.title,b=(a.onErrorClick,a.autoHeight),g=(a.defaultValue,k(a,["prefixCls","prefixListCls","editable","style","clear","children","error","className","count","labelNumber","title","onErrorClick","autoHeight","defaultValue"])),y=g.disabled,N=this.state,F=N.value,O=N.focus,S=h>0&&this.props.rows>1,T=C()(m,l+"-item",o+"-item",(e={},s()(e,o+"-disabled",y),s()(e,o+"-item-single-line",1===this.props.rows&&!b),s()(e,o+"-error",f),s()(e,o+"-focus",O),s()(e,o+"-has-count",S),e)),B=C()(o+"-label",(t={},s()(t,o+"-label-2",2===v),s()(t,o+"-label-3",3===v),s()(t,o+"-label-4",4===v),s()(t,o+"-label-5",5===v),s()(t,o+"-label-6",6===v),s()(t,o+"-label-7",7===v),t)),H=r(F),j={};return h>0&&(j.maxLength=h-H+(F?F.length:0)),x.a.createElement("div",{className:T},d&&x.a.createElement("div",{className:B},d),x.a.createElement("div",{className:o+"-control"},x.a.createElement("textarea",u()({ref:function(e){return n.textareaRef=e}},j,g,{value:F,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,readOnly:!i,style:c}))),p&&i&&F&&H>0&&x.a.createElement(E.a,{activeClassName:o+"-clear-active"},x.a.createElement("div",{className:o+"-clear",onClick:this.clearInput})),f&&x.a.createElement("div",{className:o+"-error-extra",onClick:this.onErrorClick}),S&&x.a.createElement("span",{className:o+"-count"},x.a.createElement("span",null,F?H:0),"/",h))}}]),t}(x.a.Component);t.a=F,F.defaultProps={prefixCls:"am-textarea",prefixListCls:"am-list",autoHeight:!1,editable:!0,disabled:!1,placeholder:"",clear:!1,rows:1,onChange:a,onBlur:a,onFocus:a,onErrorClick:a,error:!1,labelNumber:5}},JK6K:function(e,t,n){"use strict";var a=(n("99xQ"),n("SuD+"));n.n(a)},SFyZ:function(e,t,n){"use strict";var a=(n("99xQ"),n("JK6K"),n("ej5M"));n.n(a)},"SuD+":function(e,t){},eJrv:function(e,t,n){"use strict";function a(e){return{users:e.users,loading:e.loading}}Object.defineProperty(t,"__esModule",{value:!0});var o=(n("4zAl"),n("Plhq")),r=(n("SFyZ"),n("Bjsw")),l=n("dN2m"),u=n.n(l),i=n("XWAK"),s=(n.n(i),n("vvau")),c=(n.n(s),function(e){var t=e.users,n=e.dispatch,a=e.loading,l=t.commentProposal;return u.a.createElement("div",{className:"proposalBox"},u.a.createElement(r.a,{className:"commentText",rows:5,count:100,value:l,placeholder:"\u8f93\u5165\u60a8\u7684\u610f\u89c1\u4e0e\u5efa\u8bae...",onChange:function(e){return n({type:"users/save",payload:{commentProposal:e}})}}),u.a.createElement("div",{className:"commentSubmit",onClick:function(){l?l.length>6?n({type:"users/submitFeedback",payload:{content:l}}):o.a.info("\u610f\u89c1\u5efa\u8bae\u4e0d\u80fd\u5c11\u4e8e6\u4e2a\u5b57",1):o.a.info("\u610f\u89c1\u5efa\u8bae\u4e0d\u80fd\u4e3a\u7a7a",1)}},a.effects["users/submitFeedback"]?"\u63d0\u4ea4\u4e2d":"\u63d0\u4ea4"))});t.default=Object(i.connect)(a)(c)},ej5M:function(e,t){},vvau:function(e,t){}});